import{u as _,A as g}from"./index.1e2c0e7a.js";import{h as d,u as w,f as x,r as v,o as y,i as k,j as e,w as M,k as p,v as h,l as C,m as N,t as j}from"./vendor.2cafc8ac.js";import{M as S}from"./Modal.db56e3c7.js";import{_ as L}from"./index.b70e70ff.js";const P={components:{Modal:S},setup(){const n=d(""),t=d(""),i=_(),{handlerIsLogin:o,handlerSetToken:l,handlerGetCookie:c,handlerModalControl:r}=i,a=w(),u=d("");function f(m){m.preventDefault();const b={username:n.value,password:t.value};g({method:"post",url:"admin/signin",data:b,token:""}).then(s=>{s.data.token&&l(s.data.token),s.data.token&&(document.cookie=`token=${s.data.token}; max-age=3600`),s.data.token&&o(),s.data.token&&a.push("/dashboard")}).catch(s=>{u.value=s.response.data.message,r()})}return x(()=>{c("token")&&a.push("/dashboard")}),{userName:n,userPassword:t,handlerSubmit:f,handlerModalControl:r,loginErrorMessage:u}}},B={class:"flex justify-center items-center h-screen bg-gray-50"},E={class:"container max-w-lg"},T=e("legend",{class:"text-4xl text-center"},"\u8ACB\u5148\u767B\u5165",-1),V={class:""},D=e("label",{for:"userName",class:"mb-4 block"},"\u4F7F\u7528\u8005\u5E33\u865F",-1),A=e("label",{for:"userPassword",class:"mb-4 block"},"\u4F7F\u7528\u8005\u5BC6\u78BC",-1),U=e("button",{type:"submit",class:"w-full bg-primary-500 text-white rounded-lg py-4 w-100 transition duration-300 hover:bg-primary-600"}," \u767B\u5165 ",-1),z={class:"bg-white rounded-md shadow-md p-4 transition-all duration-500 ease-in-out translate-y-16"},G={class:"flex justify-between items-center"},I=e("h1",{class:"text-2xl font-medium pl-4"},"\u767B\u5165\u5931\u6557",-1),R=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"bi bi-x h-8 w-8",viewBox:"0 0 16 16"},[e("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1),q=[R],F=e("h2",null,"\u8ACB\u78BA\u8A8D\u60A8\u7684\u5E33\u865F\u5BC6\u78BC",-1);function H(n,t,i,o,l,c){const r=v("Modal");return y(),k("main",B,[e("div",E,[e("form",{class:"space-y-8 p-8 bg-white rounded shadow-sm",onSubmit:t[2]||(t[2]=M((...a)=>o.handlerSubmit&&o.handlerSubmit(...a),["prevent"]))},[T,e("div",V,[D,p(e("input",{id:"userName",type:"text",name:"userName",placeholder:"\u8ACB\u8F38\u5165\u5E33\u865FEmail","onUpdate:modelValue":t[0]||(t[0]=a=>o.userName=a),class:"p-2 rounded border w-full bg-gray-50 invalid:text-primary-600 invalid:border-primary-600 focus:ring-primary-500 focus:text-primary-600 text-primary-800"},null,512),[[h,o.userName,void 0,{trim:!0}]])]),e("div",null,[A,p(e("input",{id:"userPassword",type:"password",class:"p-2 rounded border w-full bg-gray-50 invalid:text-primary-600 invalid:border-primary-600 focus:ring-primary-500 focus:text-primary-600 text-primary-800","onUpdate:modelValue":t[1]||(t[1]=a=>o.userPassword=a),placeholder:"\u8ACB\u8F38\u5165\u5BC6\u78BC"},null,512),[[h,o.userPassword]])]),U],32)]),C(r,null,{default:N(()=>[e("section",z,[e("div",G,[I,e("button",{type:"button",class:"text-danger-500 p-4 hover:text-warning-700",onClick:t[3]||(t[3]=(...a)=>o.handlerModalControl&&o.handlerModalControl(...a))},q)]),F,e("p",null,j(o.loginErrorMessage),1)])]),_:1})])}var X=L(P,[["render",H]]);export{X as default};
